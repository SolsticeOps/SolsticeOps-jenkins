{% if jenkins_error %}
<div class="alert alert-danger">
    <h6 class="alert-heading fw-bold">Jenkins API Error</h6>
    <p class="small mb-0">{{ jenkins_error }}</p>
    {% if jenkins_auth_error %}
    <p class="small mt-2 mb-0">It seems your API token or password is incorrect. Please update them in the service management section.</p>
    {% endif %}
</div>
{% elif jenkins_auth_required %}
<div class="alert alert-warning">
    <h6 class="alert-heading fw-bold">Authentication Required</h6>
    <p class="small mb-0">Please configure Jenkins credentials in the service management section.</p>
</div>
{% endif %}

<div class="table-responsive">
    <table class="table table-dark table-hover align-middle">
        <thead>
            <tr>
                <th>Name</th>
                <th>URL</th>
                <th>Color</th>
            </tr>
        </thead>
        <tbody>
            {% for job in jenkins_jobs %}
            <tr>
                <td>{{ job.name }}</td>
                <td><a href="{{ job.url }}" target="_blank" class="text-info text-decoration-none">{{ job.url }}</a></td>
                <td>
                    <span class="badge {% if job.color == 'blue' %}bg-success{% elif job.color == 'red' %}bg-danger{% else %}bg-secondary{% endif %}">
                        {{ job.color }}
                    </span>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="3" class="text-center text-muted">No jobs found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
