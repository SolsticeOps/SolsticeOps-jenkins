{% if jenkins_error %}
<div class="alert alert-danger">
    <h6 class="alert-heading fw-bold">Jenkins API Error</h6>
    <p class="small mb-0">{{ jenkins_error }}</p>
    {% if jenkins_auth_error %}
    <p class="small mt-2 mb-0">It seems your API token or password is incorrect. Please update them in the service management section.</p>
    {% endif %}
</div>
{% elif jenkins_auth_required %}
<div class="alert alert-warning">
    <h6 class="alert-heading fw-bold">Authentication Required</h6>
    <p class="small mb-2">Please configure Jenkins credentials in the service management section.</p>
    <p class="small mb-1">Example JSON configuration for the <strong>Config Data</strong> field:</p>
    <pre class="bg-black bg-opacity-25 p-2 rounded small mb-0" style="font-size: 11px;">{
    "port": "8080",
    "username": "admin",
    "api_token": "your-api-token-here",
    "container_name": "jenkins"
}</pre>
</div>
{% endif %}

<div class="table-responsive">
    <table class="table table-dark table-hover align-middle">
        <thead>
            <tr>
                <th>Name</th>
                <th>Offline</th>
            </tr>
        </thead>
        <tbody>
            {% for node in jenkins_nodes %}
            <tr>
                <td>{{ node.name }}</td>
                <td>
                    <span class="badge {% if node.offline %}bg-danger{% else %}bg-success{% endif %}">
                        {% if node.offline %}Offline{% else %}Online{% endif %}
                    </span>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="2" class="text-center text-muted">No nodes found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
